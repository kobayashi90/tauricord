### .github/workflows/build-linux.yml
name: Tauri Linux Build

on:
  push:
    branches: [main]
  pull_request:

jobs:
  build-linux-docker:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout code
        uses: actions/checkout@v3

      - name: Build inside Docker container
        run: |
          docker run --rm -v ${{ github.workspace }}:/app -w /app rust:1.70 bash -c "
            apt-get update && apt-get install -y libwebkit2gtk-4.0-dev build-essential libssl-dev libgtk-3-dev squashfs-tools curl wget &&
            cargo install tauri-cli --force &&
            cargo tauri build --release
          "

      - name: Upload Linux artifacts
        uses: actions/upload-artifact@v4
        with:
          name: linux-artifacts
          path: target/release/bundle/appimage/*.AppImage
          if-no-files-found: warn
